function MobileSlide(t){if(this.el=t.el,this.max=t.data.length,this.data=t.data,this.TouchStart=t.touchStart,this.RenderEnd=t.renderEnd,this.onListClick=t.onListClick,this.beforeView=t.beforeView,this.activeView=t.activeView,this.afterView=t.afterView,this.parent=this.el.parentNode,this.viewWidth=this.parent.offsetWidth,this.position={xStart:0,yStart:0,xEnd:0,yEnd:0,typeX:null,typeY:null},this.max>1){if(t.showTool&&this.createTools(),t.autoPlay){var i=this;i.isAutoPlay=!0,i.autoTime=1==t.autoPlay||t.autoPlay<2e3?2e3:t.autoPlay,i.autoPlayTimer=setTimeout(function(){i.autoPlay(i.autoTime)},i.autoTime)}this.init()}window.addEventListener("resize",this),this.render()}MobileSlide.prototype={handleEvent:function(t){if(!this.isrender)switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"resize":this.resize()}},resize:function(){this.viewWidth=this.parent.offsetWidth,this.render()},init:function(){this.index=0,this.isrender=!1,this.el.addEventListener("touchstart",this,{passive:!0}),this.el.addEventListener("touchmove",this,{passive:!0}),this.el.addEventListener("touchend",this,{passive:!0}),this.timer=null},autoPlay:function(t){var i=this;i.index++,i.index>=i.max&&(i.index=0),i.position.typeX="left",i.isrender=!0,i.autoPlayTimer&&clearTimeout(i.autoPlayTimer),i.renderBefore(),i.autoPlayTimer=setTimeout(function(){i.autoPlay(t),i=null},t)},createTools:function(){var t=this;"static"==getComputedStyle(this.parent).position&&(t.parent.style.position="relative");var i=document.createElement("div");i.className="ms-tools-box";for(var e=['<ul class="ms-tools clear">'],s=0;s<t.max;s++)0==s?e.push('<li class="ms-tools-bar active" data-index="0"></li>'):e.push('<li class="ms-tools-bar" data-index="'+s+'"></li>');e.push("</ul>"),i.innerHTML=e.join(""),t.parent.appendChild(i),t=null,i=null,e=null},onTouchStart:function(t){this.touchModel="click",this.autoPlayTimer&&clearTimeout(this.autoPlayTimer),this.isClearTiout=!0,this.position.xStart=t.touches[0].pageX,this.position.yStart=t.touches[0].pageY,this.TouchStart.call(this,t)},onTouchMove:function(t){t.stopPropagation(),this.touchModel="scroll",this.position.xEnd=t.touches[0].pageX,this.position.yEnd=t.touches[0].pageY,t.touches[0].pageX>this.position.xStart?this.position.typeX="right":this.position.typeX="left",t.touches[0].pageY>this.position.yStart?this.position.typeY="down":this.position.typeY="up";var i=t.touches[0].pageX-this.position.xStart-this.viewWidth;this.el.style.transform="translate3d("+i+"px,0,0)",i=null},onTouchEnd:function(t){this.isrender=!0;var i=this;if("click"==i.touchModel)return i.onListClick.call(i,t),i.reloadTimeout(),void(i.isrender=!1);switch(i.position.typeX){case"right":i.index--,i.index<0&&(i.index=i.max-1);break;case"left":i.index++,i.index>=i.max&&(i.index=0)}i.renderBefore(),i=null},renderBefore:function(){var t=this;"right"==t.position.typeX?t.el.style.cssText="transition:transform .2s;transform:translate3d(0,0,0)":t.el.style.cssText="transition:transform .2s;transform:translate3d(-"+2*t.viewWidth+"px,0,0)",t.timer=setTimeout(function(){t.render(),t=null},300)},render:function(){this.el.style.cssText="transform:translate3d(-"+this.viewWidth+"px,0,0)",this.RenderEnd.call(this,{before:this.data[this.index-1]||this.data[this.max-1],active:this.data[this.index]||this.data[0],after:this.data[this.index+1]||this.data[0]}),this.isrender=!1;var t=this.parent.querySelector(".ms-tools-bar.active"),i=this.parent.querySelectorAll(".ms-tools-bar");t&&t.classList.remove("active"),i[0]&&i[this.index].classList.add("active"),this.timer&&clearTimeout(this.timer),this.reloadTimeout(),t=null,i=null},reloadTimeout:function(){if(this.isClearTiout&&this.isAutoPlay){var t=this;t.isClearTiout=!1,t.touchModel=null,t.autoPlayTimer=setTimeout(function(){t.autoPlay(t.autoTime),t=null},t.autoTime)}}};